<div class="row">
    <div class="container-fluid">
        <div class="row-fluid">
            <div ng-show="user" class="col-md-2 breadcrumb">
                <p><h4>{{user.fullname}}</h4></p>
                <p>{{user.email}}</p>
                <hr/>
                <img ng-src="{{user.avatar}}?s=100">
                <hr/>
                <p>
                    <a href="#/settings/account" class="btn btn-primary">Editer votre profil</a>
                </p>
            </div>
            <div class="col-md-10">
                <div class="well">
                    <h2>DASHBOARD</h2><br>

                    <div class="alert alert-error" ng-show="user && !user.email" ng-cloak class="ng-cloak">
                        Merci de renseigner votre email sur votre <a href="/#/settings/email">profil</a> pour qu'on
                        puisse vous contacter.
                    </div>
                </div>
                <br/>

                <div class="well">
                    <div ng-show="userService.isAdmin()">
                        <h2>Status</h2>

                        <table class="table table-bordered table-striped">
                            <tbody>
                            <tr>
                                <th class="col-md-2">Propositions (Draft)</th>
                                <th class="col-md-2">Talks soumis</th>
                                <th class="col-md-2">Talks rejetés</th>
                                <th class="col-md-2">Talks acceptés</th>
                                <th class="col-md-2">Talks en attente</th>
                                <th class="col-md-2">Vos Votes</th>
                            </tr>
                            <tr>
                                <td>{{talkstats.nbProposalDraft}}</td>
                                <td>{{talkstats.nbTalks}}</td>
                                <td>{{talkstats.nbRejetes}} / {{talkstats.nbTalks}}</td>
                                <td>{{talkstats.nbAcceptes}} / {{talkstats.nbTalks}}</td>
                                <td>{{talkstats.nbTalks - talkstats.nbRejetes -
                                    talkstats.nbAcceptes}} / {{talkstats.nbTalks}}
                                </td>
                                <td>{{talkstats.nbVotesUser}} / {{talkstats.nbTalks}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <br/>

                    <h2><a ng-href="/#/managetalk">Talks</a></h2>
                    <h4 ng-show="!talks.length">
                        - Aucun talk proposé
                    </h4>
                    <h4 ng-show="talksDraft.length == 1">
                        - 1 talk en édition
                    </h4>
                    <h4 ng-show="talksDraft.length > 1">
                        - {{talks.length}} talks en édition
                    </h4>
                    <h4 ng-show="talks.length == 1">
                        - 1 talk proposé
                    </h4>
                    <h4 ng-show="talks.length > 1">
                        - {{talks.length}} talks proposés
                    </h4>
                    <br/>
                    <h4 ng-show="talksok.length > 0"> - Talks acceptés</h4>

                    <p ng-repeat="talk in talksok">- <a ng-href="/#/talks/see/{{talk.id}}" title="{{talk.title}}">{{talk.title}}</a>
                    </p>
                    <br/>
                    <h4 ng-show="talks_w.length > 0"> - Talks en attente</h4>

                    <p ng-repeat="talk in talks_w">- <a ng-href="/#/talks/see/{{talk.id}}" title="{{talk.title}}">{{talk.title}}</a>
                    </p>
                    <br/>
                    <h4 ng-show="talksko.length > 0"> - Talks refusés</h4>

                    <p ng-repeat="talk in talksko">- <a ng-href="/#/talks/see/{{talk.id}}" title="{{talk.title}}">{{talk.title}}</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>